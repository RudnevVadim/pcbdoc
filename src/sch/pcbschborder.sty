
\ProvidesPackage{pcbschborder}%

\RequirePackage{pcbdoccontent}%
\RequirePackage{lastpage}%
\RequirePackage{rotating}%
\RequirePackage{xifthen}%
\RequirePackage{array}%

\newcommand{\DrawHeaderFirst}{}%
\newcommand{\DrawHeaderNext}{}%

\newcommand{\DrawStampFirst}{%
  \begin{picture}(0,0)%
    \setlength{\unitlength}{1mm}%
    \linethickness{\pcbdoclinethick}%
    \ifthenelse{\equal{\pcbdocpapersize}{a4}}{}{\put(0,55){\line(0,-1){55}}}%
    \put(0,55){\line(1,0){185}}%
    \put(65,40){\line(1,0){120}}%
    \put(65,15){\line(1,0){120}}%
    \put(0,35){\line(1,0){65}}%
    \put(0,30){\line(1,0){65}}%
    \put(135,35){\line(1,0){50}}%
    \put(135,20){\line(1,0){50}}%
    \put(7,55){\line(0,-1){25}}%
    \put(17,55){\line(0,-1){55}}%
    \put(40,55){\line(0,-1){55}}%
    \put(55,55){\line(0,-1){55}}%
    \put(65,55){\line(0,-1){55}}%
    \put(135,40){\line(0,-1){40}}%
    \put(150,40){\line(0,-1){20}}%
    \put(167,40){\line(0,-1){20}}%
    \put(155,20){\line(0,-1){5}}%
    \linethickness{\pcbdoclinethin}%
    \put(140,35){\line(0,-1){15}}%
    \put(145,35){\line(0,-1){15}}%
    \put(0,50){\line(1,0){65}}%
    \put(0,45){\line(1,0){65}}%
    \put(0,40){\line(1,0){65}}%
    \put(0,25){\line(1,0){65}}%
    \put(0,20){\line(1,0){65}}%
    \put(0,15){\line(1,0){65}}%
    \put(0,10){\line(1,0){65}}%
    \put(0,5){\line(1,0){65}}%
    \put(0,31.25){\makebox[7mm]{\normalfontit Изм.}}%
    \put(7,31.25){\makebox[10mm]{\normalfontit Лист}}%
    \put(17,31.25){\makebox[23mm]{\normalfontit № докум.}}%
    \put(40,31.25){\makebox[15mm]{\normalfontit Подпись}}%
    \put(55,31.25){\makebox[10mm]{\normalfontit Дата}}%
    \put(1,26.25){\normalfontit Разраб.}%
    \put(1,21.25){\normalfontit Пров.}%
%    \put(1,16.25){\normalfontit Т. контр.}%
    \put(1,6.25){\normalfontit Н. контр.}%
    \put(1,1.25){\normalfontit Утв.}%
    \put(18,26.25){\normalfontit\PcbDocAuthor}%
    \put(18,21.25){\normalfontit\PcbDocChecker}%
%    \put(18,16.25){\normalfontit\PcbDocTechController}%
    \put(18,6.25){\normalfontit\PcbDocNormController}%
    \put(18,1.25){\normalfontit\PcbDocApprover}%
    \put(135,36.25){\makebox[15mm]{\normalfontit Лит.}}%
    \put(150,36.25){\makebox[17mm]{\normalfontit Масса}}%
    \put(167,36.25){\makebox[18mm]{\normalfontit Масштаб}}%
    \put(65,45){\makebox[110mm]{\Largeit\PcbDocNumber{Э3}}}%
    \put(65,18.5){\makebox[70mm]{\normalfontit Схема электрическая принципиальная}}%
    \renewcommand{\arraystretch}{0}%
    \put(65,29){\makebox[70mm]{%
      \begin{tabular}[c]{@{}>{\Largeit}c}%
        \PcbDocName%
      \end{tabular}%
      }%
    }%
    \renewcommand{\arraystretch}{1}%
    \put(0,60){%
      \begin{tabular}[b]{@{}>{\largeit}p{185mm}}%
        \PcbDocShTtFirst%
      \end{tabular}%
      }%
    \put(-205,5){%
      \begin{tabular}[b]{@{}>{\largeit}p{185mm}}%
        \PcbDocShTtNext%
      \end{tabular}%
      }%
    \put(135,16.25){\makebox[20mm]{%
        \normalfontit\ifthenelse{\equal{\pageref{LastPage}}{1}}{Лист}{Лист~1}%
        }%
      }%
    \put(155,16.25){\makebox[30mm]{\normalfontit Листов~\pageref{LastPage}}}%
  \end{picture}%
  }%

\newcommand{\DrawStampNext}{%
  \begin{picture}(0,0)%
    \setlength{\unitlength}{1mm}%
    \linethickness{\pcbdoclinethick}%
    \ifthenelse{\equal{\pcbdocpapersize}{a4}}{}{\put(0,0){\line(0,1){15}}}%
    \put(7,0){\line(0,1){15}}%
    \put(17,0){\line(0,1){15}}%
    \put(40,0){\line(0,1){15}}%
    \put(55,0){\line(0,1){15}}%
    \put(65,0){\line(0,1){15}}%
    \put(175,0){\line(0,1){15}}%
    \put(185,0){\line(0,1){15}}%
    \put(0,15){\line(1,0){185}}%
    \put(175,8){\line(1,0){10}}%
    \linethickness{\pcbdoclinethin}%
    \put(0,5){\line(1,0){65}}%
    \put(0,10){\line(1,0){65}}%
    \put(0,1.25){\makebox[7mm]{\normalfontit Изм.}}%
    \put(7,1.25){\makebox[10mm]{\normalfontit Лист}}%
    \put(17,1.25){\makebox[23mm]{\normalfontit № докум.}}%
    \put(40,1.25){\makebox[15mm]{\normalfontit Подпись}}%
    \put(55,1.25){\makebox[10mm]{\normalfontit Дата}}%
    \put(175,10.25){\makebox[10mm]{\normalfontit Лист}}%
    \put(175,2.75){\makebox[10mm]{\normalfontit\thepage}}%
    \put(65,5){\makebox[110mm]{\Largeit\PcbDocNumber{Э3}}}%
    \end{picture}%
  }%

\newcommand{\DrawFieldBottomFirst}{%
  \begin{picture}(0,0)%
    \setlength{\unitlength}{1mm}%
    \linethickness{\pcbdoclinethick}%
    \put(-7,0){\line(0,1){145}}%
    \put(-12,0){\line(0,1){145}}%
    \put(0,0){\line(-1,0){12}}%
    \put(0,25){\line(-1,0){12}}%
    \put(0,60){\line(-1,0){12}}%
    \put(0,85){\line(-1,0){12}}%
    \put(0,110){\line(-1,0){12}}%
    \put(0,145){\line(-1,0){12}}%
    \put(-8,0){\begin{rotate}{90}\makebox[25mm]{\normalfontit Инв. № подл.}\end{rotate}}%
    \put(-8,25){\begin{rotate}{90}\makebox[35mm]{\normalfontit Подп. и дата}\end{rotate}}%
    \put(-8,60){\begin{rotate}{90}\makebox[25mm]{\normalfontit Взам. инв. №}\end{rotate}}%
    \put(-8,85){\begin{rotate}{90}\makebox[25mm]{\normalfontit Инв. № дубл.}\end{rotate}}%
    \put(-8,110){\begin{rotate}{90}\makebox[35mm]{\normalfontit Подп. и дата.}\end{rotate}}%
  \end{picture}%
  }%

\newcommand{\DrawFieldBottomNext}{%
  \begin{picture}(0,0)%
    \setlength{\unitlength}{1mm}%
    \linethickness{\pcbdoclinethick}%
    \put(-7,0){\line(0,1){145}}%
    \put(-12,0){\line(0,1){145}}%
    \put(0,0){\line(-1,0){12}}%
    \put(0,25){\line(-1,0){12}}%
    \put(0,60){\line(-1,0){12}}%
    \put(0,85){\line(-1,0){12}}%
    \put(0,110){\line(-1,0){12}}%
    \put(0,145){\line(-1,0){12}}%
    \put(-8,0){\begin{rotate}{90}\makebox[25mm]{\normalfontit Инв. № подл.}\end{rotate}}%
    \put(-8,25){\begin{rotate}{90}\makebox[35mm]{\normalfontit Подп. и дата}\end{rotate}}%
    \put(-8,60){\begin{rotate}{90}\makebox[25mm]{\normalfontit Взам. инв. №}\end{rotate}}%
    \put(-8,85){\begin{rotate}{90}\makebox[25mm]{\normalfontit Инв. № дубл.}\end{rotate}}%
    \put(-8,110){\begin{rotate}{90}\makebox[35mm]{\normalfontit Подп. и дата.}\end{rotate}}%
  \end{picture}%
  }%

\newcommand{\DrawFieldTopFirst}{%
  \begin{picture}(0,0)%
    \setlength{\unitlength}{1mm}%
    \linethickness{\pcbdoclinethick}%
    \put(-12,167){\line(0,1){120}}%
    \put(-7,167){\line(0,1){120}}%
    \put(0,167){\line(-1,0){12}}%
    \put(0,227){\line(-1,0){12}}%
    \put(0,287){\line(-1,0){12}}%
    \put(-8.25,167){\begin{rotate}{90}\makebox[60mm]{\normalfontit Справ. №}\end{rotate}}%
    \put(-8.25,227){\begin{rotate}{90}\makebox[60mm]{\normalfontit Перв. примен.}\end{rotate}}%
    \put(-2,227){\begin{rotate}{90}\makebox[60mm]{\largeit\PcbDocNumber}\end{rotate}}%
  \end{picture}%
  }%

\newcommand{\DrawFieldTopNext}{%
%  \begin{picture}(0,0)%
%    \setlength{\unitlength}{1mm}%
%    \linethickness{\pcbdoclinethick}%
%    \put(-12,167){\line(0,1){120}}%
%    \put(-7,167){\line(0,1){120}}%
%    \put(0,167){\line(-1,0){12}}%
%    \put(0,227){\line(-1,0){12}}%
%    \put(0,287){\line(-1,0){12}}%
%    \put(-8.25,167){\begin{rotate}{90}\makebox[60mm]{\itshape\normalsize Справ. №}\end{rotate}}%
%    \put(-8.25,227){\begin{rotate}{90}\makebox[60mm]{\itshape\normalsize Перв. примен.}\end{rotate}}%
%    \put(-2,227){\begin{rotate}{90}\makebox[60mm]{\itshape\large\PcbDocNumber}\end{rotate}}%
%  \end{picture}%
  }%

\newcommand{\DrawFieldTopTopFirst}{%
  \begin{picture}(0,0)%
    \setlength{\unitlength}{1mm}%
    \linethickness{\pcbdoclinethick}%
    \put(0,-14){\line(1,0){70}}%
    \put(70,-14){\line(0,1){14}}%
    \put(70,-4){\begin{rotate}{180}\makebox[70mm]{\Largeit\PcbDocNumber{Э3}}\end{rotate}}%
  \end{picture}%
  }%

\newcommand{\DrawFieldTopTopNext}{%
  \begin{picture}(0,0)%
    \setlength{\unitlength}{1mm}%
    \linethickness{\pcbdoclinethick}%
    \put(0,-14){\line(1,0){70}}%
    \put(70,-14){\line(0,1){14}}%
    \put(70,-4){\begin{rotate}{180}\makebox[70mm]{\Largeit\PcbDocNumber{Э3}}\end{rotate}}%
  \end{picture}%
  }%

